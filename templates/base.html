<!-- base.html -->
<!DOCTYPE html>
<html>
<head>
    <title>{% block title %}{% endblock %}</title>
    <!-- TODO: add SEO tags, Google analytics, Google Ads -->
    <!-- Google tag (gtag.js) -->
    <style>
        .error {
            color: red;
        }
    </style>
    <!-- <script async src="https://www.googletagmanager.com/gtag/js?id=G-N5EXEE9Q61"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-N5EXEE9Q61');
    </script> -->
    <script>
        function addInput() {
            var container = document.getElementById("inputContainer");
            container.innerHTML += '<div class="control has-icons-left"> \
                                        <input type="text" name="link[]" oninput="validateUrl()" placeholder="Enter URL ( youtube.com/... or youtu.be/...)"> \
                                        <input type="number" name="start_hour[]" placeholder="hh" min="0" max="23"> \
                                        <input type="number" name="start_minute[]" placeholder="mm" min="0" max="59"> \
                                        <input type="number" name="start_second[]" placeholder="ss" min="0" max="59"> \
                                        <input type="number" name="end_hour[]" placeholder="hh" min="0" max="23"> \
                                        <input type="number" name="end_minute[]" placeholder="mm" min="0" max="59"> \
                                        <input type="number" name="end_second[]" placeholder="ss" min="0" max="59"><br> \
                                        <br> \
                                        <span class="icon is-small is-left"> \
                                            <i class="fas fa-link"></i> \
                                        </span> \
                                    </div>';
        }

        function validateTimes() {
            var startHours = document.getElementsByName('start_hour[]');
            var startMinutes = document.getElementsByName('start_minute[]');
            var startSeconds = document.getElementsByName('start_second[]');
            var endHours = document.getElementsByName('end_hour[]');
            var endMinutes = document.getElementsByName('end_minute[]');
            var endSeconds = document.getElementsByName('end_second[]');

            for (var i = 0; i < startHours.length; i++) {
                var startTime = startHours[i].value * 3600 + startMinutes[i].value * 60 + startSeconds[i].value;
                var endTime = endHours[i].value * 3600 + endMinutes[i].value * 60 + endSeconds[i].value;

                if (endTime < startTime) {
                    alert("End time must be greater than or equal to start time.");
                    return false;
                }
            }
            return true;
        }

        function isValidYoutubeVideoUrl(url) {
            const regex = /^(https?:\/\/)?(www\.)?(youtube\.com\/watch\?v=|youtu\.be\/)[a-zA-Z0-9_-]{11}$/;
            return regex.test(url);
        }

        function validateUrl() {
            var url = document.getElementById('youtubeUrl').value;
            var message = isValidYoutubeVideoUrl(url) ? "Valid YouTube Video URL" : "Invalid YouTube Video URL";
            document.getElementById('result').textContent = message;
        }
    </script>
    <!-- <link rel="icon" type="image/png" href="static/img/please_transcribe.jpg"> -->
    <link rel="shortcut icon" href="{{ url_for('static', filename='img/please_transcribe.jpg') }}" type="image/png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>

<body>
<section class="hero is-fullheight is-default is-bold">
    <!-- Navbar -->
    <nav class="navbar is-light" role="navigation" aria-label="main navigation">
        <div class="container">
            <div class="navbar-brand">
                <a class="navbar-item" href="/">
                    <!-- <img src="{{ url_for('static', filename='img/please_transcribe.jpg') }}" alt="Logo"> -->
                    <!-- <span class="icon is-large"><i class="fab fa-youtube"></i></span> -->
                    <strong> Videos to Books</strong>
                </a>
                <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                </a>
            </div>
<!--             <div class="navbar-menu">
                <div class="navbar-end">
                    <a class="navbar-item" href="/about">About</a>
                </div>
            </div> -->
        </div>
    </nav>

    <!-- Content -->
    <div class="hero-body">
        <div class="container has-text-centered">
            {% block content %}
            {% endblock %}
        </div>
    </div>


    <!-- Footer -->
    <div class="hero-foot">
            <div class="content has-text-centered">
                <p>A BizLab product</p>
            </div>
    </div>
</section>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Get all "navbar-burger" elements
            const navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);
            // Check if there are any navbar burgers
            if (navbarBurgers.length > 0) {
                // Add a click event on each of them
                navbarBurgers.forEach(el => {
                    el.addEventListener('click', () => {
                        // Get the target from the "data-target" attribute
                        const target = el.dataset.target;
                        const $target = document.getElementById(target);
                        // Toggle the class on both the "navbar-burger" and the "navbar-menu"
                        el.classList.toggle('is-active');
                        $target.classList.toggle('is-active');
                    });
                });
            }
        });
    </script>
{% block additional_scripts %}
{% endblock %}


</body>
</html>
